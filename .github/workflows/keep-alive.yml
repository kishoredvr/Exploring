name: Keep Supabase Awake

on:
  schedule:
    # Runs at 00:00 UTC every 3 days
    - cron: '0 0 */3 * *'
  # Allows you to run this manually from the Actions tab for testing
  workflow_dispatch:

jobs:
  ping-supabase:
    runs-on: ubuntu-latest
    steps:
      - name: Send Dummy Request
        run: |
          curl -X POST https://lkvcbpxkpwpoqjlcddgl.functions.supabase.co/submit-form \
          -H "Content-Type: application/json" \
          -d '{
            "name": "KeepAlive Bot",
            "email": "automated-check@github.actions",
            "mobileNumber": "0000000000",
            "purpose": "Other",
            "contactCountry": "GitHub Server",
            "expectations": "This is an automated dummy mail sent by GitHub Actions to keep the Supabase instance awake.",
            "payment_status": "not applicable",
            "payment_amount": "0",
            "astro_service_tier": "not applicable",
            "birthDetailsAvailable": "Not applicable",
            "dob": "Not applicable",
            "hour": "Not applicable",
            "minute": "Not applicable",
            "second": "Not applicable",
            "explanation": "Not applicable",
            "city": "Not applicable",
            "state": "Not applicable",
            "country": "Not applicable",
            "pincode": "Not applicable",
            "gender": "Other",
            "genderOtherInput": "Bot",
            "accuracy": "Not applicable"
          }'
